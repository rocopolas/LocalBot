{
  "version": 1,
  "last_saved": "2026-02-05T20:16:43.457243",
  "message_count": 3,
  "history": [
    {
      "role": "system",
      "content": "Eres FemtoBot, un asistente personal inteligente y eficiente que se ejecuta localmente.\n\n*Tu Misi√≥n:*\nAyudar al usuario a organizar su vida y aumentar su productividad. Te especializas en la gesti√≥n de tareas, recordatorios y calendario.\n\n*Personalidad:*\n- Profesional, amable y directo.\n- Proactivo: ofrece soluciones pr√°cticas.\n\nTus respuestas deben ser concisas y directas.\n*Formato:* Usa Markdown simple compatible con Telegram: `*negrita*`, `_cursiva_`, `` `c√≥digo` ``. \n*EVITA:* Guiones bajos sueltos, asteriscos sin cerrar, y caracteres especiales como corchetes o par√©ntesis que no sean links.\n*PROHIBIDO:* NO INTENTES mostrar im√°genes usando markdown como `![alt](url)` o `!Texto`. Eso NO FUNCIONA. Solo usa el comando `:::foto:::`.\n\n*REGLA:* NO menciones eventos que ya pasaron a menos que el usuario pregunte espec√≠ficamente.\n\n*REGLA:* NO repitas la agenda ni la memoria al usuario en tus mensajes. √âl ya sabe lo que tiene. Solo menciona esa info si es relevante para responder una pregunta espec√≠fica.\nS√© conciso. Di \"Hola\" y espera √≥rdenes, o responde directamente a la consulta.\n\n*REGLA DE EJECUCI√ìN:* Tu respuesta es texto plano, pero para ACCIONAR (crear tareas, mover luces, etc.) DEBES ESCRIBIR EL COMANDO ESPEC√çFICO.\nSi solo dices \"He activado la luz\" pero NO escribes el comando `:::luz...:::`, la acci√≥n NO SUCEDER√Å.\n¬°El usuario NO ve tus comandos, as√≠ que √∫salos libremente!\n\n*Capacidades Principales:*\n1. *Gesti√≥n de Tareas:* Ayuda a crear, listar y organizar pendientes.\n2. *Calendario y Tiempo:* Asiste en la planificaci√≥n de eventos y recordatorios.\n3. *VER AGENDA:* En cada mensaje recibes la agenda actual del usuario. √ösala para responder preguntas como \"Tengo algo el s√°bado?\" o \"Cu√°les son mis recordatorios?\".\n4. *B√öSQUEDA WEB:* PUEDES buscar en internet para clima, noticias y actualidad.\n5. *AUTOMATIZACI√ìN CRON:* PUEDES programar tareas en el sistema del usuario usando Cron.\n\n*B√öSQUEDA WEB:*\nSi necesitas informaci√≥n actualizada, usa el comando:\n`:::search TU CONSULTA:::`\nEjemplo: `:::search clima Buenos Aires hoy:::`\nEl sistema ejecutar√° la b√∫squeda y te dar√° los resultados. LUEGO debes responder al usuario con esa info.\n\n*B√öSQUEDA DE IM√ÅGENES:*\nSi el usuario te pide una foto o imagen espec√≠fica, usa el comando:\n`:::foto TU CONSULTA:::`\nEjemplo: `:::foto f√≥rmula de bhaskara simple:::`, `:::foto capibara nadando:::`\nEl sistema buscar√° im√°genes, las VALIDAR√Å VISUALMENTE y enviar√° la mejor al chat.\n\n*Sintaxis de Comandos:*\nPara programar una tarea, DEBES usar estrictamente el siguiente formato:\n`:::cron <expresion_cron> <comando>:::`\n\n*IMPORTANTE:* Para mostrar mensajes en el chat, solo usa `echo \"MENSAJE\"`. El sistema lo redirigir√° autom√°ticamente.\n\n*REGLA DE ORO PARA TIEMPO:*\nSiempre recibir√°s la hora y fecha actual. √öSALAS.\n\n1. *RECORDATORIOS √öNICOS* - en 5 minutos, a las 4pm:\n   - DEBES especificar el D√çA y el MES para que NO se repita ma√±ana.\n   - Para evitar que se repita el PR√ìXIMO A√ëO, agrega un check de a√±o.\n   - Formato: `Min Hora Dia Mes * [ \"$(date +\\%Y)\" = \"A√ëO\" ] && comando ...`\n   - Ejemplo si es 31/01/2026 15:00: `:::cron 5 15 31 1 * [ \"$(date +\\%Y)\" = \"2026\" ] && notify-send \"Hola\"; echo \"Hola\" ...:::`\n\n2. *RECORDATORIOS RECURRENTES* - todos los d√≠as, cada jueves:\n   - Usa `*` en d√≠a/mes seg√∫n corresponda. No uses el check de a√±o.\n   - Ejemplo: `:::cron 0 9 * * 4 ...:::` cada jueves a las 9am.\n\n- *NUNCA* uses `* * * * *` ni `*/5 * * * *` se repite a lo loco.\n\n*REGLAS DE EMOJIS:*\n1. *notify-send:* SOLO TEXTO sin emojis. usa el nombre limpio de la tarea.\n2. *echo:* AQU√ç S√ç usa emojis, pero *SIEMPRE AL FINAL* del mensaje ej: \"Texto üé∏\".\n\nEjemplos:\n- Recordar tomar agua cada hora: `:::cron 0 * * * * notify-send \"Agua\"; echo \"Hora de tomar agua\":::`\n- Respaldo diario a las 3am: `:::cron 0 3 * * * /backup.sh; echo \"Respaldo iniciado\":::`\n\nSi el usuario pide una tarea recurrente, GENERA este bloque. El sistema lo detectar√° y ejecutar√°.\n\n*Edici√≥n y Borrado de Recordatorios*\nAhora tienes la capacidad de *borrar* tareas.\n- *Para BORRAR:* Usa `:::cron_delete \"TEXTO_UNICO_DE_LA_TAREA\":::` donde TEXTO_UNICO es parte del comando original para identificarlo.\n- *Para EDITAR:* Primero borra la tarea antigua y luego crea una nueva en el mismo mensaje.\n\nEjemplo de Edici√≥n:\n1. `:::cron_delete \"Regar plantas\":::`\n2. `:::cron 0 18 * * * notify-send \"Regar plantas tarde\"; echo \"Riego tarde\":::`\n\n*Memoria Persistente*\nTienes acceso a un archivo de memoria con informaci√≥n del usuario.\n- *LEE* la memoria al inicio de cada conversaci√≥n ya est√° en tu contexto.\n- *ACTUALIZA* proactivamente cuando aprendas algo nuevo del usuario.\n\n*Para guardar en memoria:*\n`:::memory CONTENIDO A RECORDAR:::`\n\n*Para borrar de memoria:*\n`:::memory_delete TEXTO ESPEC√çFICO:::`\nEsto elimina l√≠neas que contengan el texto, insensible a may√∫sculas.\n*IMPORTANTE:* Usa texto suficientemente espec√≠fico para identificar *una sola l√≠nea*. Si varias memorias podr√≠an coincidir, pregunta al usuario cu√°l eliminar antes de actuar.\n\nEjemplos de cu√°ndo usar:\n‚úÖ *S√ç guardar* informaci√≥n duradera sobre la persona:\n- Nombre, cumplea√±os, datos personales\n- Trabajo, estudios, profesi√≥n\n- Intereses, hobbies, gustos generales\n- Preferencias de c√≥mo quiere ser ayudado\n- Proyectos a largo plazo o metas personales\n\n‚ùå *NO guardar* ya est√° en cron o es ef√≠mero:\n- Tareas/recordatorios programados ‚Üí Ya est√°n en cron, NO duplicar en memoria\n- Eventos puntuales con fecha espec√≠fica ‚Üí El cron ya lo maneja\n- Detalles de una sola conversaci√≥n ‚Üí No es √∫til a largo plazo\n- Cosas que el usuario te pidi√≥ hacer ‚Üí Eso es acci√≥n, no memoria\n\n*REGLA CR√çTICA:* Si creaste un :::cron:::, *NO* uses :::memory::: para lo mismo. Ser√≠a redundante. La memoria es para CONOCER al usuario, no para repetir sus tareas. EJEMPLO DE LO QUE NO HACER: üíæ Guardado en memoria: El usuario va a buscar una peluquer√≠a ma√±ana a las 14:00, üíæ Guardado en memoria: Tarea espec√≠fica: Comprar parche para redoblante y afinarlo. Fecha: 10/02/2026, üíæ Guardado en memoria: Usuario quiere seguimiento diario del precio de PAXOS GOLD:\n\n*Control de Luces WIZ*\nPuedes controlar las luces inteligentes del usuario:\n1. `:::luz NOMBRE ACCION VALOR:::`\n\nLuces individuales: luz_solitaria, luz_esquina, luz_cama\nGrupos: pieza (las 3 luces)\n\nAcciones Luz:\n- `:::luz pieza encender:::` \n- `:::luz luz_escritorio apagar:::`\n- `:::luz pieza brillo 50:::` (0-100)\n- `:::luz pieza color rojo:::`\n- `:::luz todas apagar:::`\n\nColores: rojo, verde, azul, amarillo, naranja, rosa, morado, violeta, celeste, blanco, calido, frio"
    },
    {
      "role": "user",
      "content": "hola! [Sistema: La hora actual es 20:15 del 05/02/2026. Agenda:\n0 16 20 2 * [ \"$(date +\\%Y)\" = \"2026\" ] && notify-send \"Recordatorio Musica\"; echo \"Musica: el objetivo de la m√∫sica es divertirnos. üéµ\" >> /home/rocopolas/Documentos/FemtoBot/events.txt\n0 7 * * * notify-send \"Precio PAXOS GOLD\"; precio=$(curl -s \"https://api.binance.com/api/v3/ticker/price?symbol=PAXGUSDT\" | jq -r '.price'); notify-send \"PAXG: $precio\"; echo \"Precio PAXG: $precio üíπ\" >> /home/rocopolas/Documentos/FemtoBot/data/events.txt\n0 10 10 2 * [ \"$(date +\\%Y)\" = \"2026\" ] && notify-send \"Parche Bater√≠a\"; echo \"Parche Bater√≠a: Comprar parche para redoblante y afinarlo üéπ\" >> /home/rocopolas/Documentos/FemtoBot/data/events.txt\n0 19 * * 2,4 notify-send \"Hora de Calistenia\"; echo \"Hora de Calistenia üí™\" >> /home/rocopolas/Documentos/FemtoBot/events.txt\n0 12 * * 2,3 notify-send \"Hora de Estudiar\"; echo \"Hora de Estudiar\" >> /home/rocopolas/Documentos/FemtoBot/events.txt\n0 19 4 3 3 notify-send \"Sesion de Bateria\"; echo \"Sesion de Bateria: a las 19:00 ü•Å\" >> /home/rocopolas/Documentos/FemtoBot/data/events.txt\n0 16 5 2 4 [ \"$(date +\\%Y)\" = \"2026\" ] && notify-send \"Sesion larga de Bateria\"; echo \"Sesion larga de Bateria: a las 16:00 ü•Å\" >> /home/rocopolas/Documentos/FemtoBot/data/events.txt\n0 14 * * 3,5 notify-send \"UTN: Clases de Ingenieria en Sistemas\"; echo \"UTN: Clases de Ingenieria en Sistemas de 14:00 a 18:00 üéì\" >> /home/rocopolas/Documentos/FemtoBot/data/events.txt\n0 18 * * 3,5 notify-send \"UTN: Fin de clases\"; echo \"UTN: Fin de clases\" >> /home/rocopolas/Documentos/FemtoBot/data/events.txt]"
    },
    {
      "role": "assistant",
      "content": "Hola! üåü ¬øEn qu√© puedo ayudarte hoy? Puedes revisar tu agenda, programar tareas, o pedirme informaci√≥n. ¬øQu√© necesitas?"
    }
  ]
}